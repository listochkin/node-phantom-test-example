<!DOCTYPE html>
<html>
<head>
    <title>Sample Page</title>
</head>
<body>
<script>
    // unfortunately, there's no way to check the data passed to this function 
    // from the server side due to limitations of node-to-phantom bindings
    window.IN_PHANTOM = 'callPhantom' in window; 
    window.APP = {};

    (function () {
        'use strict';

        var name = 'Alex', secret ='Secret';
        var xhr = new XMLHttpRequest();
        xhr.open('get', '/user/' + name + '?secret=' + secret);
        xhr.onload = function (e) {
            APP.result = JSON.parse(xhr.responseText);
        };
        xhr.send();
    })();
</script>
</body>
</html>